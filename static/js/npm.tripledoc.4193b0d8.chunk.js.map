{"version":3,"sources":["../node_modules/tripledoc/dist/index.es.js"],"names":["_assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","triplesToTurtle","quads","writer","triples","_a","format","map","quad","triple","subject","predicate","object","addQuads","end","error","turtleToTriples","raw","documentRef","parser","baseIRI","parsedTriples","parse","_prefixes","get","url","fetch","headers","Accept","head","method","update","triplesToDelete","triplesToAdd","rawTriplesToDelete","rawTriplesToAdd","deleteStatement","insertStatement","create","rawTurtle","createInContainer","containerUrl","options","slugSuggestion","slug","initialiseDataset","store","dataset","addAll","quadsAsArray","Array","isArray","toArray","match","graph","notUndefinedSubject","notUndefinedPredicate","notUndefinedObject","notUndefinedGraph","getQuads","toRdfjsDataset","DataFactory","findSubjectInDataset","predicateRef","objectRef","type","subjectRef","targetSubject","toNode","targetPredicate","targetObject","foundTriple","find","normaliseEntity","findEntityInDataset","findSubjectsInDataset","findEntitiesInDataset","filter","isEntity","referenceOrBlankNode","namedNode","entity","termType","node","isNamedNode","isLiteral","initialiseSubject","document","subjectNode","isBlankNode$1","getTriples","isSavedToPod","getStore","pendingAdditions","pendingDeletions","predicateNode","findObjectsInDataset","getRef","firstRef","isReference","getAllRefs","addLiteral","literal","asLiteral","addString","Error","addLocaleString","locale","addInteger","Number","isInteger","addDecimal","toString","addDateTime","Date","addRef","nodeRef","removeRef","removeLiteral","removeAll","setRef","asRef","getDocument","getString","firstStringLiteral","isStringLiteral","getLocaleString","generateLocaleTypeGuard","getInteger","firstIntegerLiteral","isIntegerLiteral","fromIntegerLiteral","getDecimal","firstDecimalLiteral","isDecimalLiteral","fromDecimalLiteral","getDateTime","firstDateTimeLiteral","isDateTimeLiteral","fromDateTimeLiteral","getLiteral","firstLiteral","fromLiteral","getAllStrings","fromStringLiteral","getAllLocaleStrings","getAllIntegers","getAllDecimals","getAllDateTimes","getAllLiterals","getLocalSubject","getAllLocalSubjects","localSubject","getType","removeString","removeLocaleString","removeInteger","removeDecimal","removeDateTime","setString","setLocaleString","setInteger","setDecimal","setDateTime","clear","getPendingTriples","getNodeRef","getAllNodeRefs","addNodeRef","removeNodeRef","setNodeRef","setLiteral","asNodeRef","utcFullYear","parseInt","substring","utcMonth","utcDate","utcHours","utcMinutes","utcSeconds","indexOf","date","setUTCFullYear","setUTCMonth","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","parseFloat","rdflibStyleString","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toISOString","replace","instantiateLocalTripleDocument","subjectCache","metadata","_this","bareTripleDocument","instantiateBareTripleDocument","tripleDocumentWithRef","save","subjects","values","getAccessedSubjects","pendingChanges","updatedMetadata","response","message","aclRef","webSocketRef","getPendingChanges","allAdditions","ok","text","existsOnPod","extractAclRef","instantiateDocument","newTriples","setDocument","withDocumentSingular","getEntityFromTriples","knownEntity1","knownEntity2","withDocumentPlural","getEntitiesFromTriples","fetchDocument","uri","docUrl","URL","origin","pathname","search","status","statusText","undefined","linkHeader","aclLinks","href","hasKnownRef","sourceDocument","accessedSubjects","getSubject","newDocument","initialiseSubjectCache","getAclRef","findSubjects","findSubjectRefs","getAllSubjectsOfType","typeRef","tripleDocument","allDeletions","removeSubject","findSubject","findSubjectRef","getWebSocketRef","experimental_getAllSubjects","allSubjectRefsInTriples","from","Set","getAcl","getStatements","getSubjectsOfType","instantiateFullTripleDocument","localTripleDocumentForContainer","containerResponse","locationHeader","documentResponse","containerRef","instantiateLocalTripleDocumentForContainer","addSubject","_b","_c","identifier","generateIdentifier","_d","identifierPrefix","reduce","deletionsSoFar","additionsSoFar","deletions","additions","concat","tripleToDelete","findIndex","equals","now","Math","random","param","datatype","language","toLowerCase","isLocaleStringLiteral"],"mappings":"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","file":"static/js/npm.tripledoc.4193b0d8.chunk.js","sourcesContent":["import LinkHeader from 'http-link-header';\nimport SolidAuthClient from 'solid-auth-client';\nimport { Writer, DataFactory as DataFactory$1, Parser, Store } from 'n3';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n/**\r\n * @param quads Triples that should be serialised to Turtle\r\n * @internal Utility method for internal use by Tripledoc; not part of the public API.\r\n */\n\n\nfunction triplesToTurtle(quads) {\n  return __awaiter(this, void 0, void 0, function () {\n    var format, writer, triples, writePromise, rawTurtle;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          format = 'text/turtle';\n          writer = new Writer({\n            format: format\n          });\n          triples = quads.map(function (quad) {\n            return DataFactory$1.triple(quad.subject, quad.predicate, quad.object);\n          });\n          writer.addQuads(triples);\n          writePromise = new Promise(function (resolve, reject) {\n            writer.end(function (error, result) {\n              /* istanbul ignore if [n3.js doesn't actually pass an error nor a result, apparently: https://github.com/rdfjs/N3.js/blob/62682e48c02d8965b4d728cb5f2cbec6b5d1b1b8/src/N3Writer.js#L290] */\n              if (error) {\n                return reject(error);\n              }\n\n              resolve(result);\n            });\n          });\n          return [4\n          /*yield*/\n          , writePromise];\n\n        case 1:\n          rawTurtle = _a.sent();\n          return [2\n          /*return*/\n          , rawTurtle];\n      }\n    });\n  });\n}\n/**\r\n * @param raw Turtle that should be parsed into Triples\r\n * @internal Utility method for internal use by Tripledoc; not part of the public API.\r\n */\n\n\nfunction turtleToTriples(raw, documentRef) {\n  return __awaiter(this, void 0, void 0, function () {\n    var format, parser, parsingPromise;\n    return __generator(this, function (_a) {\n      format = 'text/turtle';\n      parser = new Parser({\n        format: format,\n        baseIRI: documentRef\n      });\n      parsingPromise = new Promise(function (resolve, reject) {\n        var parsedTriples = [];\n        parser.parse(raw, function (error, triple, _prefixes) {\n          if (error) {\n            return reject(error);\n          }\n\n          if (triple) {\n            parsedTriples.push(triple);\n          } else {\n            resolve(parsedTriples);\n          }\n        });\n      });\n      return [2\n      /*return*/\n      , parsingPromise];\n    });\n  });\n}\n/**\r\n * Utility function that gets Triples located at a URL\r\n *\r\n * @param url Location of the Document contains the Triples.\r\n * @returns Promise that resolves with the Triples\r\n * @internal Should not be used by library consumers directly.\r\n */\n\n/* istanbul ignore next Just a thin wrapper around solid-auth-client, yet cumbersome to test due to side effects */\n\n\nfunction get(url) {\n  return __awaiter(this, void 0, void 0, function () {\n    var response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , SolidAuthClient.fetch(url, {\n            headers: {\n              Accept: 'text/turtle'\n            }\n          })];\n\n        case 1:\n          response = _a.sent();\n          return [2\n          /*return*/\n          , response];\n      }\n    });\n  });\n}\n/**\r\n * Utility function that gets a URL's metadata\r\n *\r\n * @param url Location of the Document to get the metadata of\r\n * @returns Promise that resolves with the Response\r\n * @internal Should not be used by library consumers directly.\r\n */\n\n/* istanbul ignore next Just a thin wrapper around solid-auth-client, yet cumbersome to test due to side effects */\n\n\nfunction head(url) {\n  return __awaiter(this, void 0, void 0, function () {\n    var response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , SolidAuthClient.fetch(url, {\n            method: 'HEAD'\n          })];\n\n        case 1:\n          response = _a.sent();\n          return [2\n          /*return*/\n          , response];\n      }\n    });\n  });\n}\n/**\r\n * Utility function that sends a PATCH request to the Pod to update a Document\r\n *\r\n * @param url Location of the Document that contains the Triples to delete, and should have the Triples to add.\r\n * @param triplesToDelete Triples currently present on the Pod that should be deleted.\r\n * @param triplesToAdd Triples not currently present on the Pod that should be added.\r\n * @returns Promise that resolves when the update was executed successfully, and rejects if not.\r\n * @internal Should not be used by library consumers directly.\r\n */\n\n/* istanbul ignore next Just a thin wrapper around solid-auth-client, yet cumbersome to test due to side effects */\n\n\nfunction update(url, triplesToDelete, triplesToAdd) {\n  return __awaiter(this, void 0, void 0, function () {\n    var rawTriplesToDelete, rawTriplesToAdd, deleteStatement, insertStatement, response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , triplesToTurtle(triplesToDelete)];\n\n        case 1:\n          rawTriplesToDelete = _a.sent();\n          return [4\n          /*yield*/\n          , triplesToTurtle(triplesToAdd)];\n\n        case 2:\n          rawTriplesToAdd = _a.sent();\n          deleteStatement = triplesToDelete.length > 0 ? \"DELETE DATA {\" + rawTriplesToDelete + \"};\" : '';\n          insertStatement = triplesToAdd.length > 0 ? \"INSERT DATA {\" + rawTriplesToAdd + \"};\" : '';\n          return [4\n          /*yield*/\n          , SolidAuthClient.fetch(url, {\n            method: 'PATCH',\n            body: deleteStatement + \" \" + insertStatement,\n            headers: {\n              'Content-Type': 'application/sparql-update'\n            }\n          })];\n\n        case 3:\n          response = _a.sent();\n          return [2\n          /*return*/\n          , response];\n      }\n    });\n  });\n}\n/**\r\n * Utility function that sends a PUT request to the Pod to create a new Document\r\n *\r\n * @param url URL of the Document that should be created.\r\n * @param triplesToAdd Triples that should be added to the Document.\r\n * @returns Promise that resolves with the response when the Document was created successfully, and rejects if not.\r\n * @internal Should not be used by library consumers directly.\r\n */\n\n/* istanbul ignore next Just a thin wrapper around solid-auth-client, yet cumbersome to test due to side effects */\n\n\nfunction create(url, triplesToAdd) {\n  return __awaiter(this, void 0, void 0, function () {\n    var rawTurtle, response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , triplesToTurtle(triplesToAdd)];\n\n        case 1:\n          rawTurtle = _a.sent();\n          return [4\n          /*yield*/\n          , SolidAuthClient.fetch(url, {\n            method: 'PUT',\n            body: rawTurtle,\n            headers: {\n              'Content-Type': 'text/turtle',\n              'If-None-Match': '*'\n            }\n          })];\n\n        case 2:\n          response = _a.sent();\n          return [2\n          /*return*/\n          , response];\n      }\n    });\n  });\n}\n/**\r\n * Utility function that sends a POST request to a Container in the Pod to create a new Document\r\n *\r\n * @param containerUrl URL of the Container in which the Document should be created.\r\n * @param triplesToAdd Triples that should be added to the Document.\r\n * @returns Promise that resolves with the response when the Document was created successfully, and rejects if not.\r\n * @internal Should not be used by library consumers directly.\r\n */\n\n/* istanbul ignore next Just a thin wrapper around solid-auth-client, yet cumbersome to test due to side effects */\n\n\nfunction createInContainer(containerUrl, triplesToAdd, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return __awaiter(this, void 0, void 0, function () {\n    var rawTurtle, headers, response;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , triplesToTurtle(triplesToAdd)];\n\n        case 1:\n          rawTurtle = _a.sent();\n          headers = {\n            'Content-Type': 'text/turtle'\n          };\n\n          if (options.slugSuggestion) {\n            headers.slug = options.slugSuggestion;\n          }\n\n          return [4\n          /*yield*/\n          , SolidAuthClient.fetch(containerUrl, {\n            method: 'POST',\n            body: rawTurtle,\n            headers: headers\n          })];\n\n        case 2:\n          response = _a.sent();\n          return [2\n          /*return*/\n          , response];\n      }\n    });\n  });\n}\n/* istanbul ignore next: A simple wrapper to make N3 conform with a subset of the RDF/JS Dataset\r\n                         interface; should contain no business logic. */\n\n\nfunction toRdfjsDataset(store) {\n  var addAll = function addAll(quads) {\n    var quadsAsArray = Array.isArray(quads) ? quads : quads.toArray();\n    store.addQuads(quadsAsArray);\n    return dataset;\n  };\n\n  var match = function match(subject, predicate, object, graph) {\n    var notUndefinedSubject = typeof subject === 'undefined' ? null : subject;\n    var notUndefinedPredicate = typeof predicate === 'undefined' ? null : predicate;\n    var notUndefinedObject = typeof object === 'undefined' ? null : object;\n    var notUndefinedGraph = typeof graph === 'undefined' ? null : graph;\n    return {\n      toArray: function toArray() {\n        return store.getQuads(notUndefinedSubject, notUndefinedPredicate, notUndefinedObject, notUndefinedGraph);\n      }\n    };\n  };\n\n  var toArray = function toArray() {\n    return store.getQuads(null, null, null, null);\n  };\n\n  var dataset = {\n    addAll: addAll,\n    match: match,\n    toArray: toArray\n  };\n  return dataset;\n}\n/**\r\n * @internal\r\n */\n\n\nfunction initialiseDataset() {\n  return toRdfjsDataset(new Store());\n}\n/**\r\n * @internal\r\n */\n\n\nvar DataFactory = DataFactory$1;\n/**\r\n * @internal This is a utility method for other parts of the code, and not part of the public API.\r\n */\n\nvar findSubjectInDataset = function findSubjectInDataset(dataset, predicateRef, objectRef) {\n  return findEntityInDataset(dataset, 'subject', null, predicateRef, objectRef);\n};\n/**\r\n * @internal This is a utility method for other parts of the code, and not part of the public API.\r\n */\n\n\nvar findSubjectsInDataset = function findSubjectsInDataset(dataset, predicateRef, objectRef) {\n  return findEntitiesInDataset(dataset, 'subject', null, predicateRef, objectRef);\n};\n/**\r\n * @internal This is a utility method for other parts of the code, and not part of the public API.\r\n */\n\n\nvar findObjectsInDataset = function findObjectsInDataset(dataset, subjectRef, predicateRef) {\n  return findEntitiesInDataset(dataset, 'object', subjectRef, predicateRef, null);\n};\n/**\r\n * @internal This is a utility method for other parts of the code, and not part of the public API.\r\n */\n\n\nfunction findEntityInDataset(dataset, type, subjectRef, predicateRef, objectRef) {\n  var targetSubject = subjectRef ? toNode(subjectRef) : null;\n  var targetPredicate = predicateRef ? toNode(predicateRef) : null;\n  var targetObject = objectRef ? toNode(objectRef) : null;\n  var matchingTriples = dataset.match(targetSubject, targetPredicate, targetObject, null).toArray();\n  var foundTriple = matchingTriples.find(function (triple) {\n    return typeof triple[type] !== 'undefined';\n  });\n  return typeof foundTriple !== 'undefined' ? normaliseEntity(foundTriple[type]) : null;\n}\n/**\r\n * @internal This is a utility method for other parts of the code, and not part of the public API.\r\n */\n\n\nfunction findEntitiesInDataset(dataset, type, subjectRef, predicateRef, objectRef) {\n  var targetSubject = subjectRef ? toNode(subjectRef) : null;\n  var targetPredicate = predicateRef ? toNode(predicateRef) : null;\n  var targetObject = objectRef ? toNode(objectRef) : null;\n  var matchingTriples = dataset.match(targetSubject, targetPredicate, targetObject, null).toArray();\n  var foundTriples = matchingTriples.filter(function (triple) {\n    return typeof triple[type] !== 'undefined';\n  });\n  return foundTriples.map(function (triple) {\n    return normaliseEntity(triple[type]);\n  }).filter(isEntity);\n}\n\nfunction toNode(referenceOrBlankNode) {\n  return typeof referenceOrBlankNode === 'string' ? DataFactory.namedNode(referenceOrBlankNode) : referenceOrBlankNode;\n}\n\nfunction normaliseEntity(entity) {\n  if (isBlankNode(entity)) {\n    return entity;\n  }\n\n  if (isNamedNode(entity)) {\n    return entity.value;\n  }\n  /* istanbul ignore else: All code paths to here result in either a Node or a Literal, so we can't test it */\n\n\n  if (isLiteral(entity)) {\n    return entity;\n  }\n  /* istanbul ignore next: All code paths to here result in either a Node or a Literal, so we can't test it */\n\n\n  return null;\n}\n\nfunction isEntity(node) {\n  return node !== null;\n}\n/**\r\n * @internal Utility function for working with N3, which the library consumer should not need to\r\n *           be exposed to.\r\n */\n\n\nfunction isNamedNode(node) {\n  return node.termType === 'NamedNode';\n}\n/**\r\n * @internal Utility function for working with rdflib, which the library consumer should not need to\r\n *           be exposed to.\r\n */\n\n\nfunction isBlankNode(node) {\n  return node.termType === 'BlankNode';\n}\n/**\r\n * @internal Only to be called by the Document containing this subject; not a public API.\r\n * @param document The Document this Subject is defined in.\r\n * @param subjectRef The URL that identifies this subject.\r\n */\n\n\nfunction initialiseSubject(document, subjectRef) {\n  var subjectNode = isBlankNode$1(subjectRef) ? subjectRef : DataFactory.namedNode(subjectRef);\n  var triples = isSavedToPod(document) ? document.getStore().match(subjectNode, null, null, null).toArray() : [];\n  var dataset = initialiseDataset();\n  dataset.addAll(triples);\n  var pendingAdditions = [];\n  var pendingDeletions = [];\n\n  var get = function get(predicateNode) {\n    return findObjectsInDataset(dataset, subjectRef, predicateNode);\n  };\n\n  var getString = function getString(predicateNode) {\n    var objects = get(predicateNode);\n    var firstStringLiteral = objects.find(isStringLiteral);\n\n    if (typeof firstStringLiteral === 'undefined') {\n      return null;\n    }\n\n    return firstStringLiteral.value;\n  };\n\n  var getLocaleString = function getLocaleString(predicateNode, locale) {\n    var objects = get(predicateNode);\n    var firstStringLiteral = objects.find(generateLocaleTypeGuard(locale));\n\n    if (typeof firstStringLiteral === 'undefined') {\n      return null;\n    }\n\n    return firstStringLiteral.value;\n  };\n\n  var getInteger = function getInteger(predicateRef) {\n    var objects = get(predicateRef);\n    var firstIntegerLiteral = objects.find(isIntegerLiteral);\n\n    if (typeof firstIntegerLiteral === 'undefined') {\n      return null;\n    }\n\n    return fromIntegerLiteral(firstIntegerLiteral);\n  };\n\n  var getDecimal = function getDecimal(predicateRef) {\n    var objects = get(predicateRef);\n    var firstDecimalLiteral = objects.find(isDecimalLiteral);\n\n    if (typeof firstDecimalLiteral === 'undefined') {\n      return null;\n    }\n\n    return fromDecimalLiteral(firstDecimalLiteral);\n  };\n\n  var getDateTime = function getDateTime(predicateRef) {\n    var objects = get(predicateRef);\n    var firstDateTimeLiteral = objects.find(isDateTimeLiteral);\n\n    if (typeof firstDateTimeLiteral === 'undefined') {\n      return null;\n    }\n\n    return fromDateTimeLiteral(firstDateTimeLiteral);\n  };\n\n  var getLiteral = function getLiteral(predicateRef) {\n    var objects = get(predicateRef);\n    var firstLiteral = objects.find(isLiteral);\n\n    if (typeof firstLiteral === 'undefined') {\n      return null;\n    }\n\n    return fromLiteral(firstLiteral);\n  };\n\n  var getAllStrings = function getAllStrings(predicateRef) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(isStringLiteral);\n    return literals.map(fromStringLiteral);\n  };\n\n  var getAllLocaleStrings = function getAllLocaleStrings(predicateRef, locale) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(generateLocaleTypeGuard(locale));\n    return literals.map(fromStringLiteral);\n  };\n\n  var getAllIntegers = function getAllIntegers(predicateRef) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(isIntegerLiteral);\n    return literals.map(fromIntegerLiteral);\n  };\n\n  var getAllDecimals = function getAllDecimals(predicateRef) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(isDecimalLiteral);\n    return literals.map(fromDecimalLiteral);\n  };\n\n  var getAllDateTimes = function getAllDateTimes(predicateRef) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(isDateTimeLiteral);\n    return literals.map(fromDateTimeLiteral);\n  };\n\n  var getAllLiterals = function getAllLiterals(predicateRef) {\n    var objects = get(predicateRef);\n    var literals = objects.filter(isLiteral);\n    return literals.map(fromLiteral);\n  };\n\n  var getLocalSubject = function getLocalSubject(predicateRef) {\n    var objects = get(predicateRef);\n    var firstRef = objects.find(isBlankNode$1);\n\n    if (typeof firstRef === 'undefined') {\n      return null;\n    }\n\n    return initialiseSubject(document, firstRef);\n  };\n\n  var getAllLocalSubjects = function getAllLocalSubjects(predicateRef) {\n    var objects = get(predicateRef);\n    var nodeRefs = objects.filter(isBlankNode$1);\n    return nodeRefs.map(function (localSubject) {\n      return initialiseSubject(document, localSubject);\n    });\n  };\n\n  var getRef = function getRef(predicateRef) {\n    var objects = get(predicateRef);\n    var firstRef = objects.find(isReference);\n\n    if (typeof firstRef === 'undefined') {\n      return null;\n    }\n\n    return firstRef;\n  };\n\n  var getAllRefs = function getAllRefs(predicateRef) {\n    var objects = get(predicateRef);\n    var nodeRefs = objects.filter(isReference);\n    return nodeRefs;\n  };\n\n  var getType = function getType() {\n    return getRef('http://www.w3.org/1999/02/22-rdf-syntax-ns#type');\n  };\n\n  var addLiteral = function addLiteral(predicateRef, literal) {\n    pendingAdditions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), asLiteral(literal)));\n  };\n\n  var addString = function addString(predicateRef, literal) {\n    if (typeof literal !== 'string') {\n      throw new Error('The given value is not a string.');\n    }\n\n    return addLiteral(predicateRef, literal);\n  };\n\n  var addLocaleString = function addLocaleString(predicateRef, literal, locale) {\n    if (typeof literal !== 'string') {\n      throw new Error('The given value is not a string.');\n    }\n\n    pendingAdditions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.literal(literal, locale)));\n  };\n\n  var addInteger = function addInteger(predicateRef, literal) {\n    if (typeof literal !== 'number' || !Number.isInteger(literal)) {\n      throw new Error('The given value is not an integer.');\n    }\n\n    return addLiteral(predicateRef, literal);\n  };\n\n  var addDecimal = function addDecimal(predicateRef, literal) {\n    if (typeof literal !== 'number') {\n      throw new Error('The given value is not a decimal.');\n    }\n\n    pendingAdditions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.literal(literal.toString(), DataFactory.namedNode('http://www.w3.org/2001/XMLSchema#decimal'))));\n  };\n\n  var addDateTime = function addDateTime(predicateRef, literal) {\n    if (literal instanceof Date === false) {\n      throw new Error('The given value is not a DateTime.');\n    }\n\n    return addLiteral(predicateRef, literal);\n  };\n\n  var addRef = function addRef(predicateRef, nodeRef) {\n    pendingAdditions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.namedNode(nodeRef)));\n  };\n\n  var removeRef = function removeRef(predicateRef, nodeRef) {\n    pendingDeletions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.namedNode(nodeRef)));\n  };\n\n  var removeLiteral = function removeLiteral(predicateRef, literal) {\n    pendingDeletions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), asLiteral(literal)));\n  };\n\n  var removeString = function removeString(predicateRef, literal) {\n    if (typeof literal !== 'string') {\n      throw new Error('The given value is not a string.');\n    }\n\n    return removeLiteral(predicateRef, literal);\n  };\n\n  var removeLocaleString = function removeLocaleString(predicateRef, literal, locale) {\n    if (typeof literal !== 'string') {\n      throw new Error('The given value is not a string.');\n    }\n\n    pendingDeletions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.literal(literal, locale)));\n  };\n\n  var removeInteger = function removeInteger(predicateRef, literal) {\n    if (typeof literal !== 'number' || !Number.isInteger(literal)) {\n      throw new Error('The given value is not an integer.');\n    }\n\n    return removeLiteral(predicateRef, literal);\n  };\n\n  var removeDecimal = function removeDecimal(predicateRef, literal) {\n    if (typeof literal !== 'number') {\n      throw new Error('The given value is not a decimal.');\n    } // We cannot re-use `removeLiteral` here because it will parse `42.0` as an integer:\n\n\n    pendingDeletions.push(DataFactory.triple(subjectNode, DataFactory.namedNode(predicateRef), DataFactory.literal(literal.toString(), DataFactory.namedNode('http://www.w3.org/2001/XMLSchema#decimal'))));\n  };\n\n  var removeDateTime = function removeDateTime(predicateRef, literal) {\n    if (literal instanceof Date === false) {\n      throw new Error('The given value is not a DateTime.');\n    }\n\n    return removeLiteral(predicateRef, literal);\n  };\n\n  var removeAll = function removeAll(predicateRef) {\n    pendingDeletions.push.apply(pendingDeletions, dataset.match(subjectNode, DataFactory.namedNode(predicateRef), null, null).toArray());\n  };\n\n  var clear = function clear() {\n    pendingDeletions.push.apply(pendingDeletions, getTriples());\n  };\n\n  var setRef = function setRef(predicateRef, nodeRef) {\n    removeAll(predicateRef);\n    addRef(predicateRef, nodeRef);\n  };\n\n  var setLiteral = function setLiteral(predicateRef, literal) {\n    removeAll(predicateRef);\n    addLiteral(predicateRef, literal);\n  };\n\n  var setString = function setString(predicateRef, literal) {\n    removeAll(predicateRef);\n    addString(predicateRef, literal);\n  };\n\n  var setLocaleString = function setLocaleString(predicateRef, literal, locale) {\n    removeAll(predicateRef);\n    addLocaleString(predicateRef, literal, locale);\n  };\n\n  var setInteger = function setInteger(predicateRef, literal) {\n    removeAll(predicateRef);\n    addInteger(predicateRef, literal);\n  };\n\n  var setDecimal = function setDecimal(predicateRef, literal) {\n    removeAll(predicateRef);\n    addDecimal(predicateRef, literal);\n  };\n\n  var setDateTime = function setDateTime(predicateRef, literal) {\n    removeAll(predicateRef);\n    addDateTime(predicateRef, literal);\n  };\n\n  var getTriples = function getTriples() {\n    return dataset.match(subjectNode, null, null, null).toArray();\n  };\n\n  var asRef = function asRef() {\n    return isBlankNode$1(subjectRef) ? subjectRef.value : subjectRef;\n  };\n\n  var subject = {\n    getDocument: function getDocument() {\n      return document;\n    },\n    getTriples: getTriples,\n    getString: getString,\n    getLocaleString: getLocaleString,\n    getInteger: getInteger,\n    getDecimal: getDecimal,\n    getDateTime: getDateTime,\n    getLiteral: getLiteral,\n    getAllStrings: getAllStrings,\n    getAllLocaleStrings: getAllLocaleStrings,\n    getAllIntegers: getAllIntegers,\n    getAllDecimals: getAllDecimals,\n    getAllDateTimes: getAllDateTimes,\n    getAllLiterals: getAllLiterals,\n    getLocalSubject: getLocalSubject,\n    getAllLocalSubjects: getAllLocalSubjects,\n    getRef: getRef,\n    getAllRefs: getAllRefs,\n    getType: getType,\n    addString: addString,\n    addLocaleString: addLocaleString,\n    addInteger: addInteger,\n    addDecimal: addDecimal,\n    addDateTime: addDateTime,\n    addRef: addRef,\n    removeAll: removeAll,\n    removeString: removeString,\n    removeLocaleString: removeLocaleString,\n    removeInteger: removeInteger,\n    removeDecimal: removeDecimal,\n    removeDateTime: removeDateTime,\n    removeRef: removeRef,\n    setRef: setRef,\n    setString: setString,\n    setLocaleString: setLocaleString,\n    setInteger: setInteger,\n    setDecimal: setDecimal,\n    setDateTime: setDateTime,\n    clear: clear,\n    getPendingTriples: function getPendingTriples() {\n      return [pendingDeletions, pendingAdditions];\n    },\n    asRef: asRef,\n    // Deprecated aliases, included for backwards compatibility:\n    getNodeRef: getRef,\n    getAllNodeRefs: getAllRefs,\n    addNodeRef: addRef,\n    addLiteral: addLiteral,\n    removeNodeRef: removeRef,\n    removeLiteral: removeLiteral,\n    setNodeRef: setRef,\n    setLiteral: setLiteral,\n    asNodeRef: asRef\n  };\n  return subject;\n}\n\nfunction fromDateTimeLiteral(literal) {\n  // See https://github.com/linkeddata/rdflib.js/blob/d84af88f367b8b5f617c753d8241c5a2035458e8/src/literal.js#L87\n  var utcFullYear = parseInt(literal.value.substring(0, 4), 10);\n  var utcMonth = parseInt(literal.value.substring(5, 7), 10) - 1;\n  var utcDate = parseInt(literal.value.substring(8, 10), 10);\n  var utcHours = parseInt(literal.value.substring(11, 13), 10);\n  var utcMinutes = parseInt(literal.value.substring(14, 16), 10);\n  var utcSeconds = parseInt(literal.value.substring(17, literal.value.indexOf('Z')), 10);\n  var date = new Date(0);\n  date.setUTCFullYear(utcFullYear);\n  date.setUTCMonth(utcMonth);\n  date.setUTCDate(utcDate);\n  date.setUTCHours(utcHours);\n  date.setUTCMinutes(utcMinutes);\n  date.setUTCSeconds(utcSeconds);\n  return date;\n}\n\nfunction fromIntegerLiteral(literal) {\n  return parseInt(literal.value, 10);\n}\n\nfunction fromDecimalLiteral(literal) {\n  return parseFloat(literal.value);\n}\n\nfunction fromStringLiteral(literal) {\n  return literal.value;\n}\n\nfunction fromLiteral(literal) {\n  if (isDateTimeLiteral(literal)) {\n    return fromDateTimeLiteral(literal);\n  }\n\n  if (isIntegerLiteral(literal)) {\n    return fromIntegerLiteral(literal);\n  }\n\n  if (isDecimalLiteral(literal)) {\n    return fromDecimalLiteral(literal);\n  }\n\n  return literal.value;\n}\n\nfunction asLiteral(literal) {\n  if (literal instanceof Date) {\n    // To align with rdflib, we ignore miliseconds:\n    // https://github.com/linkeddata/rdflib.js/blob/d84af88f367b8b5f617c753d8241c5a2035458e8/src/literal.js#L74\n    var roundedDate = new Date(Date.UTC(literal.getUTCFullYear(), literal.getUTCMonth(), literal.getUTCDate(), literal.getUTCHours(), literal.getUTCMinutes(), literal.getUTCSeconds(), 0)); // Truncate the `.000Z` at the end (i.e. the miliseconds), to plain `Z`:\n\n    var rdflibStyleString = roundedDate.toISOString().replace(/\\.000Z$/, 'Z');\n    return DataFactory.literal(rdflibStyleString, DataFactory.namedNode('http://www.w3.org/2001/XMLSchema#dateTime'));\n  }\n\n  if (typeof literal === 'number' && Number.isInteger(literal)) {\n    return DataFactory.literal(literal.toString(), DataFactory.namedNode('http://www.w3.org/2001/XMLSchema#integer'));\n  }\n\n  if (typeof literal === 'number' && !Number.isInteger(literal)) {\n    return DataFactory.literal(literal.toString(), DataFactory.namedNode('http://www.w3.org/2001/XMLSchema#decimal'));\n  }\n\n  return DataFactory.literal(literal.toString());\n}\n/**\r\n * @internal\r\n */\n\n\nfunction instantiateLocalTripleDocument(dataset, subjectCache, metadata) {\n  var _this = this;\n\n  var bareTripleDocument = instantiateBareTripleDocument(subjectCache, metadata);\n\n  var asRef = function asRef() {\n    return metadata.documentRef;\n  };\n\n  var save = function save(subjects) {\n    if (subjects === void 0) {\n      subjects = Object.values(subjectCache.getAccessedSubjects());\n    }\n\n    return __awaiter(_this, void 0, void 0, function () {\n      var pendingChanges, updatedMetadata, response, message, aclRef, webSocketRef;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            pendingChanges = getPendingChanges(subjects, tripleDocumentWithRef, dataset);\n            return [4\n            /*yield*/\n            , create(metadata.documentRef, pendingChanges.allAdditions)];\n\n          case 1:\n            response = _a.sent();\n            if (!!response.ok) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , response.text()];\n\n          case 2:\n            message = _a.sent();\n            throw new Error(message);\n\n          case 3:\n            updatedMetadata = _assign(_assign({}, metadata), {\n              existsOnPod: true\n            });\n            aclRef = extractAclRef(response, metadata.documentRef);\n\n            if (aclRef) {\n              updatedMetadata.aclRef = aclRef;\n            }\n\n            webSocketRef = response.headers.get('Updates-Via');\n\n            if (webSocketRef) {\n              updatedMetadata.webSocketRef = webSocketRef;\n            } // Instantiate a new TripleDocument that includes the updated Triples:\n\n\n            return [2\n            /*return*/\n            , instantiateDocument(pendingChanges.newTriples, updatedMetadata)];\n        }\n      });\n    });\n  };\n\n  var tripleDocumentWithRef = _assign(_assign({}, bareTripleDocument), {\n    save: save,\n    asRef: asRef,\n    // Deprecated alias:\n    asNodeRef: asRef\n  }); // Make sure that when TripleSubjects get initialised for this Document,\n  // they're attached to the Document instance that includes its Reference:\n\n\n  subjectCache.setDocument(tripleDocumentWithRef);\n  return tripleDocumentWithRef;\n}\n/**\r\n * @internal\r\n */\n\n\nfunction instantiateFullTripleDocument(dataset, subjectCache, metadata) {\n  var _this = this;\n\n  var tripleDocumentWithRef = instantiateLocalTripleDocument(dataset, subjectCache, metadata);\n\n  var getAclRef = function getAclRef() {\n    return metadata.aclRef || null;\n  };\n\n  var getWebSocketRef = function getWebSocketRef() {\n    return metadata.webSocketRef || null;\n  };\n\n  var removeSubject = function removeSubject(subjectRef) {\n    var subject = subjectCache.getSubject(subjectRef);\n    return subject.clear();\n  };\n\n  var findSubject = function findSubject(predicateRef, objectRef) {\n    var findSubjectRef = withDocumentSingular(findSubjectInDataset, dataset);\n    var subjectRef = findSubjectRef(predicateRef, objectRef);\n\n    if (!subjectRef || !isReference(subjectRef)) {\n      return null;\n    }\n\n    return subjectCache.getSubject(subjectRef);\n  };\n\n  var findSubjects = function findSubjects(predicateRef, objectRef) {\n    var findSubjectRefs = withDocumentPlural(findSubjectsInDataset, dataset);\n    var subjectRefs = findSubjectRefs(predicateRef, objectRef);\n    return subjectRefs.filter(isReference).map(subjectCache.getSubject);\n  };\n\n  var getAllSubjects = function getAllSubjects() {\n    var allSubjectRefsInTriples = findEntitiesInDataset(dataset, 'subject', null, null, null).filter(isReference);\n    var uniqueSubjectRefs = Array.from(new Set(allSubjectRefsInTriples));\n    return uniqueSubjectRefs.map(function (subjectRef) {\n      return subjectCache.getSubject(subjectRef);\n    });\n  };\n\n  var getAllSubjectsOfType = function getAllSubjectsOfType(typeRef) {\n    return findSubjects('http://www.w3.org/1999/02/22-rdf-syntax-ns#type', typeRef);\n  };\n\n  var save = function save(subjects) {\n    if (subjects === void 0) {\n      subjects = Object.values(subjectCache.getAccessedSubjects());\n    }\n\n    return __awaiter(_this, void 0, void 0, function () {\n      var pendingChanges, updatedMetadata, response, message;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            pendingChanges = getPendingChanges(subjects, tripleDocument, dataset);\n            return [4\n            /*yield*/\n            , update(metadata.documentRef, pendingChanges.allDeletions, pendingChanges.allAdditions)];\n\n          case 1:\n            response = _a.sent();\n            if (!!response.ok) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , response.text()];\n\n          case 2:\n            message = _a.sent();\n            throw new Error(message);\n\n          case 3:\n            updatedMetadata = _assign(_assign({}, metadata), {\n              existsOnPod: true\n            }); // Instantiate a new TripleDocument that includes the updated Triples:\n\n            return [2\n            /*return*/\n            , instantiateDocument(pendingChanges.newTriples, updatedMetadata)];\n        }\n      });\n    });\n  };\n\n  var getStore = function getStore() {\n    return dataset;\n  };\n\n  var getTriples = function getTriples() {\n    return dataset.toArray();\n  };\n\n  var tripleDocument = _assign(_assign({}, tripleDocumentWithRef), {\n    save: save,\n    removeSubject: removeSubject,\n    getSubject: subjectCache.getSubject,\n    getAllSubjectsOfType: getAllSubjectsOfType,\n    findSubject: findSubject,\n    findSubjects: findSubjects,\n    getAclRef: getAclRef,\n    getWebSocketRef: getWebSocketRef,\n    // Experimental methods:\n    experimental_getAllSubjects: getAllSubjects,\n    // Escape hatches, should not be necessary:\n    getStore: getStore,\n    getTriples: getTriples,\n    // Deprecated aliases, included for backwards compatibility:\n    getAcl: getAclRef,\n    getStatements: getTriples,\n    getSubjectsOfType: getAllSubjectsOfType\n  }); // Make sure that when TripleSubjects get initialised for this Document,\n  // they're attached to the fully initialised Document instance:\n\n\n  subjectCache.setDocument(tripleDocument);\n  return tripleDocument;\n}\n\nvar withDocumentSingular = function withDocumentSingular(getEntityFromTriples, dataset) {\n  return function (knownEntity1, knownEntity2) {\n    return getEntityFromTriples(dataset, knownEntity1, knownEntity2);\n  };\n};\n\nvar withDocumentPlural = function withDocumentPlural(getEntitiesFromTriples, dataset) {\n  return function (knownEntity1, knownEntity2) {\n    return getEntitiesFromTriples(dataset, knownEntity1, knownEntity2);\n  };\n};\n/**\r\n * @internal\r\n */\n\n\nfunction instantiateLocalTripleDocumentForContainer(dataset, subjectCache, metadata) {\n  var _this = this;\n\n  var bareTripleDocument = instantiateBareTripleDocument(subjectCache, metadata);\n\n  var save = function save(subjects) {\n    if (subjects === void 0) {\n      subjects = Object.values(subjectCache.getAccessedSubjects());\n    }\n\n    return __awaiter(_this, void 0, void 0, function () {\n      var pendingChanges, updatedMetadata, containerResponse, locationHeader, message, documentRef, documentResponse, aclRef, webSocketRef;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            pendingChanges = getPendingChanges(subjects, localTripleDocumentForContainer, dataset);\n            return [4\n            /*yield*/\n            , createInContainer(metadata.containerRef, pendingChanges.allAdditions)];\n\n          case 1:\n            containerResponse = _a.sent();\n            locationHeader = containerResponse.headers.get('Location');\n            if (!(!containerResponse.ok || locationHeader === null)) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , containerResponse.text()];\n\n          case 2:\n            message = _a.sent();\n            throw new Error(message);\n\n          case 3:\n            documentRef = new URL(locationHeader, new URL(metadata.containerRef).origin).href;\n            updatedMetadata = _assign(_assign({}, metadata), {\n              containerRef: undefined,\n              documentRef: documentRef,\n              existsOnPod: true\n            });\n            return [4\n            /*yield*/\n            , head(documentRef)];\n\n          case 4:\n            documentResponse = _a.sent();\n            aclRef = extractAclRef(documentResponse, documentRef);\n\n            if (aclRef) {\n              updatedMetadata.aclRef = aclRef;\n            }\n\n            webSocketRef = documentResponse.headers.get('Updates-Via');\n\n            if (webSocketRef) {\n              updatedMetadata.webSocketRef = webSocketRef;\n            } // Instantiate a new TripleDocument that includes the updated Triples:\n\n\n            return [2\n            /*return*/\n            , instantiateDocument(pendingChanges.newTriples, updatedMetadata)];\n        }\n      });\n    });\n  };\n\n  var localTripleDocumentForContainer = _assign(_assign({}, bareTripleDocument), {\n    save: save\n  }); // Make sure that when TripleSubjects get initialised for this Document,\n  // they're attached to this Document instance:\n\n\n  subjectCache.setDocument(localTripleDocumentForContainer);\n  return localTripleDocumentForContainer;\n}\n/**\r\n * @ignore Not yet a supported API.\r\n */\n\n\nfunction hasRef(document) {\n  return typeof document.asRef === 'function';\n}\n/**\r\n * @ignore Not yet a supported API.\r\n */\n\n\nfunction isSavedToPod(document) {\n  return typeof document.getTriples === 'function';\n}\n/**\r\n * Initialise a new Turtle document\r\n *\r\n * Note that this Document will not be created on the Pod until you call [[save]] on it.\r\n *\r\n * @param ref URL where this document should live\r\n */\n\n\nfunction createDocument(ref) {\n  return instantiateDocument([], {\n    documentRef: ref,\n    existsOnPod: false\n  });\n}\n/**\r\n * Initialise a new Turtle Document in a Container\r\n *\r\n * Note that this Document will not be created on the Pod until you call [[save]] on it.\r\n *\r\n * @param containerRef URL of the Container in which this document should live\r\n */\n\n\nfunction createDocumentInContainer(containerRef) {\n  return instantiateDocument([], {\n    containerRef: containerRef,\n    existsOnPod: false\n  });\n}\n/**\r\n * Retrieve a document containing RDF triples\r\n *\r\n * @param documentRef Where the document lives.\r\n * @returns Representation of triples in the document at `uri`.\r\n */\n\n\nfunction fetchDocument(uri) {\n  return __awaiter(this, void 0, void 0, function () {\n    var docUrl, documentRef, response, rawDocument, triples, aclRef, webSocketRef;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          docUrl = new URL(uri);\n          documentRef = docUrl.origin + docUrl.pathname + docUrl.search;\n          return [4\n          /*yield*/\n          , get(documentRef)];\n\n        case 1:\n          response = _a.sent();\n\n          if (response.ok === false) {\n            throw new Error(\"Fetching the Document failed: \" + response.status + \" \" + response.statusText + \".\");\n          }\n\n          return [4\n          /*yield*/\n          , response.text()];\n\n        case 2:\n          rawDocument = _a.sent();\n          return [4\n          /*yield*/\n          , turtleToTriples(rawDocument, documentRef)];\n\n        case 3:\n          triples = _a.sent();\n          aclRef = extractAclRef(response, documentRef);\n          webSocketRef = response.headers.get('Updates-Via');\n          return [2\n          /*return*/\n          , instantiateDocument(triples, {\n            aclRef: aclRef,\n            documentRef: documentRef,\n            webSocketRef: webSocketRef || undefined,\n            existsOnPod: true\n          })];\n      }\n    });\n  });\n}\n/**\r\n * @internal\r\n */\n\n\nfunction extractAclRef(response, documentRef) {\n  var aclRef;\n  var linkHeader = response.headers.get('Link'); // `LinkHeader` might not be present when using the UMD build in the browser,\n  // in which case we just don't parse the ACL header. It is recommended to use a non-UMD build\n  // that supports code splitting anyway.\n\n  if (linkHeader && LinkHeader) {\n    var parsedLinks = LinkHeader.parse(linkHeader);\n    var aclLinks = parsedLinks.get('rel', 'acl');\n\n    if (aclLinks.length === 1) {\n      aclRef = new URL(aclLinks[0].uri, documentRef).href;\n    }\n  }\n\n  return aclRef;\n}\n\nfunction hasKnownRef(metadata) {\n  return typeof metadata.documentRef === 'string';\n}\n\nfunction existsOnPod(metadata) {\n  return metadata.existsOnPod === true;\n}\n\nfunction instantiateDocument(triples, metadata) {\n  var dataset = initialiseDataset();\n  dataset.addAll(triples);\n  var subjectCache = initialiseSubjectCache();\n\n  if (!hasKnownRef(metadata)) {\n    return instantiateLocalTripleDocumentForContainer(dataset, subjectCache, metadata);\n  }\n\n  if (!existsOnPod(metadata)) {\n    return instantiateLocalTripleDocument(dataset, subjectCache, metadata);\n  }\n\n  return instantiateFullTripleDocument(dataset, subjectCache, metadata);\n}\n\nfunction initialiseSubjectCache() {\n  var sourceDocument;\n  var accessedSubjects = {};\n\n  var setDocument = function setDocument(newDocument) {\n    sourceDocument = newDocument;\n  };\n\n  var getSubject = function getSubject(subjectRef) {\n    // Allow relative URLs to access Subjects if we know where the Document is:\n    subjectRef = hasRef(sourceDocument) ? new URL(subjectRef, sourceDocument.asRef()).href : subjectRef;\n\n    if (!accessedSubjects[subjectRef]) {\n      accessedSubjects[subjectRef] = initialiseSubject(sourceDocument, subjectRef);\n    }\n\n    return accessedSubjects[subjectRef];\n  };\n\n  var getAccessedSubjects = function getAccessedSubjects() {\n    return accessedSubjects;\n  };\n\n  return {\n    getSubject: getSubject,\n    setDocument: setDocument,\n    getAccessedSubjects: getAccessedSubjects\n  };\n}\n/**\r\n * @internal\r\n */\n\n\nfunction instantiateBareTripleDocument(subjectCache, metadata) {\n  var addSubject = function addSubject(_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.identifier,\n        identifier = _c === void 0 ? generateIdentifier() : _c,\n        _d = _b.identifierPrefix,\n        identifierPrefix = _d === void 0 ? '' : _d;\n\n    var subjectRef = (hasKnownRef(metadata) ? metadata.documentRef : '') + '#' + identifierPrefix + identifier;\n    return subjectCache.getSubject(subjectRef);\n  };\n\n  var bareTripleDocument = {\n    addSubject: addSubject\n  };\n  return bareTripleDocument;\n}\n/**\r\n * @internal\r\n */\n\n\nfunction getPendingChanges(subjects, document, dataset) {\n  var relevantSubjects = subjects.filter(function (subject) {\n    return subject.getDocument() === document;\n  });\n\n  var _a = relevantSubjects.reduce(function (_a, subject) {\n    var deletionsSoFar = _a[0],\n        additionsSoFar = _a[1];\n\n    var _b = subject.getPendingTriples(),\n        deletions = _b[0],\n        additions = _b[1];\n\n    return [deletionsSoFar.concat(deletions), additionsSoFar.concat(additions)];\n  }, [[], []]),\n      allDeletions = _a[0],\n      allAdditions = _a[1];\n\n  var newTriples = dataset.toArray().concat(allAdditions).filter(function (tripleToDelete) {\n    return allDeletions.findIndex(function (triple) {\n      return triple.equals(tripleToDelete);\n    }) === -1;\n  });\n  return {\n    allAdditions: allAdditions,\n    allDeletions: allDeletions,\n    newTriples: newTriples\n  };\n}\n/**\r\n * Generate a string that can be used as the unique identifier for a Subject\r\n *\r\n * This function works by starting with a date string (so that Subjects can be\r\n * sorted chronologically), followed by a random number generated by taking a\r\n * random number between 0 and 1, and cutting off the `0.`.\r\n *\r\n * @internal\r\n * @returns An string that's likely to be unique\r\n */\n\n\nvar generateIdentifier = function generateIdentifier() {\n  return Date.now().toString() + Math.random().toString().substring('0.'.length);\n};\n/**\r\n * @ignore Tripledoc's methods should be explicit about whether they return or accept a Literal, so\r\n *         this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 Literal.\r\n * @returns Whether `param` is an N3 Literal.\r\n */\n\n\nfunction isLiteral(param) {\n  return typeof param === 'object' && param !== null && typeof param.termType === 'string' && param.termType === 'Literal';\n}\n/**\r\n * @internal Tripledoc's methods should be explicit about whether they return or accept a specific\r\n *           type, so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 string Literal.\r\n * @returns Whether `param` is an N3 string Literal.\r\n */\n\n\nfunction isStringLiteral(param) {\n  return isLiteral(param) && param.datatype.value === 'http://www.w3.org/2001/XMLSchema#string';\n}\n/**\r\n * @internal Tripledoc's methods should be explicit about whether they return or accept a specific\r\n *           type, so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 locale string Literal.\r\n * @returns Whether `param` is an N3 locale string Literal with the given locale.\r\n */\n\n\nfunction isLocaleStringLiteral(param, locale) {\n  return isLiteral(param) && param.datatype.value === 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString' && param.language.toLowerCase() === locale.toLowerCase();\n}\n/**\r\n * Primarily useful to create type guarsd for use in e.g. `Array.prototype.filter`.\r\n * @internal This is an internal TripleDoc data type that should not be exposed to library consumers.\r\n */\n\n\nfunction generateLocaleTypeGuard(locale) {\n  return function typeGuard(param) {\n    return isLocaleStringLiteral(param, locale);\n  };\n}\n/**\r\n * @internal Tripledoc's methods should be explicit about whether they return or accept a specific\r\n *           type, so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 integer Literal.\r\n * @returns Whether `param` is an N3 integer Literal.\r\n */\n\n\nfunction isIntegerLiteral(param) {\n  return isLiteral(param) && param.datatype.value === 'http://www.w3.org/2001/XMLSchema#integer';\n}\n/**\r\n * @internal Tripledoc's methods should be explicit about whether they return or accept a specific\r\n *           type, so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 decimal Literal.\r\n * @returns Whether `param` is an N3 decimal Literal.\r\n */\n\n\nfunction isDecimalLiteral(param) {\n  return isLiteral(param) && param.datatype.value === 'http://www.w3.org/2001/XMLSchema#decimal';\n}\n/**\r\n * @internal Tripledoc's methods should be explicit about whether they return or accept a specific\r\n *           type, so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be an N3 DateTime Literal.\r\n * @returns Whether `param` is an N3 DateTime Literal.\r\n */\n\n\nfunction isDateTimeLiteral(param) {\n  return isLiteral(param) && param.datatype.value === 'http://www.w3.org/2001/XMLSchema#dateTime';\n}\n/**\r\n * @ignore Deprecated function.\r\n * @deprecated Replaced by [[isReference]].\r\n */\n\n\nvar isNodeRef = isReference;\n/**\r\n * @ignore Tripledoc's methods should be explicit about whether they return or accept a [[Reference]],\r\n *         so this is merely an internal utility function, rather than a public API.\r\n * @param param A value that might or might not be a reference to a node in the Linked Data graph.\r\n * @returns Whether `param` is a reference to a node in the Linked Data graph.\r\n */\n\nfunction isReference(value) {\n  return typeof value === 'string' && !isLiteral(value);\n}\n/**\r\n * @internal Blank Nodes themselves should not be exposed to library consumers, so this is merely an\r\n *           internal utility function, rather than a public API.\r\n * @param param A value that might or might not be a blank node in the Linked Data graph.\r\n * @returns Whether `param` is a blank node in the Linked Data graph.\r\n */\n\n\nfunction isBlankNode$1(param) {\n  return typeof param === 'object' && param !== null && typeof param.termType === 'string' && param.termType === 'BlankNode';\n}\n\nexport { createDocument, createDocumentInContainer, fetchDocument, generateLocaleTypeGuard, hasRef, isBlankNode$1 as isBlankNode, isDateTimeLiteral, isDecimalLiteral, isIntegerLiteral, isLiteral, isLocaleStringLiteral, isNodeRef, isReference, isSavedToPod, isStringLiteral };"],"sourceRoot":""}