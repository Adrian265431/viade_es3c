(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{107:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r=i(7),n=i(8),a=i(123),s=i(45),u=i(27),c=0,h=function(){function e(t){Object(r.a)(this,e),this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&o(this,t.factory);var i="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",n="turtle"===i,s="trig"===i,u=/triple/.test(i),c=/quad/.test(i),h=this._n3Mode=/n3/.test(i),l=u||c;(this._supportsNamedGraphs=!(n||h))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||s||u||h),l&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new a.a({lineMode:l,n3:h}),this._explicitQuantifiers=!!t.explicitQuantifiers}return Object(n.a)(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,i,r,n){var a=this._n3Mode;this._contextStack.push({subject:i,predicate:r,object:n,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var i;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);i=this._namedNode(r);break;case"type":case"prefixed":var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);i=this._namedNode(n+e.value);break;case"blank":i=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,i=null,r=this._subject,n=this._contextStack,a=n[n.length-1],s=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==n.length&&"list"===n[n.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;i=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,s=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),s=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===i&&(this._subject=i=this._blankNode()),null===r?null===a.predicate?a.subject=i:a.object=i:this._emit(r,this.RDF_REST,i,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,t,this._graph)}return s}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var i=this._readEntity(e);if(void 0===i)return;t=this._literal(this._literalValue,i),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var i=this._completeLiteral(e);if(i)return this._object=i.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,i=this._subject,r=this._graph,n=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,n&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==i){var a=this._predicate,s=this._object;n?this._emit(s,a,i,r):this._emit(i,a,s,r)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,i=t.length&&t[t.length-1];if(i&&"item"===i.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,i,r=this._blankNode();if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,i,r,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,i,r=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,t,i,this._graph),this._readPath}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}},{key:"_emit",value:function(e,t,i,r){this._callback(null,this._quad(e,t,i,r||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var i=new Error(e+" on line "+t.line+".");i.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=l}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",i=e.length,r=-1,n=-1,a=0,s="/";r<i;){switch(s){case":":if(n<0&&"/"===e[++r]&&"/"===e[++r])for(;(n=r+1)<i&&"/"!==e[n];)r=n;break;case"?":case"#":r=i;break;case"/":if("."===e[r+1])switch(s=e[1+ ++r]){case"/":t+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return t+e.substring(a,r)+e.substr(r+1);case".":if(void 0===(s=e[1+ ++r])||"/"===s||"?"===s||"#"===s){if((a=(t+=e.substring(a,r-2)).lastIndexOf("/"))>=n&&(t=t.substr(0,a)),"/"!==s)return t+"/"+e.substr(r+1);a=r+1}}}s=e[++r]}return t+e.substring(a)}},{key:"parse",value:function(e,t,i){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+c+++"_",this._prefixCallback=i||l,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var n,a=[];if(this._callback=function(e,t){e?n=e:t&&a.push(t)},this._lexer.tokenize(e).every((function(e){return r._readCallback=r._readCallback(e)})),n)throw n;return a}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(r._callback(e),r._callback=l):r._readCallback&&(r._readCallback=r._readCallback(t))}))}}],[{key:"_resetBlankNodePrefix",value:function(){c=0}}]),e}();function l(){}function o(e,t){var i=t.namedNode;e._namedNode=i,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=i(u.a.rdf.first),e.RDF_REST=i(u.a.rdf.rest),e.RDF_NIL=i(u.a.rdf.nil),e.N3_FORALL=i(u.a.r.forAll),e.N3_FORSOME=i(u.a.r.forSome),e.ABBREVIATIONS={a:i(u.a.rdf.type),"=":i(u.a.owl.sameAs),">":i(u.a.log.implies)},e.QUANTIFIERS_GRAPH=i("urn:n3:quantifiers")}o(h.prototype,s.a)},108:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var r=i(7),n=i(8),a=i(10),s=i(11),u=i(12),c=i(27),h=i(45),l=h.a.defaultGraph(),o=c.a.rdf,f=c.a.xsd,d=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,_=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,p={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},b=function(e){function t(){return Object(r.a)(this,t),Object(a.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(n.a)(t,[{key:"equals",value:function(){return!1}}]),t}(h.a.internal.Term),v=function(){function e(t,i){if(Object(r.a)(this,e),this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(i=t,t=null),i=i||{},this._lists=i.lists,t)this._outputStream=t,this._endStream=void 0===i.end||!!i.end;else{var n="";this._outputStream={write:function(e,t,i){n+=e,i&&i()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(i.format)?this._writeQuad=this._writeQuadLine:(this._graph=l,this._prefixIRIs=Object.create(null),i.prefixes&&this.addPrefixes(i.prefixes))}return Object(n.a)(e,[{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,i,r,n){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(l.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(i),n):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(i),n):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(i),n)}catch(a){n&&n(a)}}},{key:"_writeQuadLine",value:function(e,t,i,r,n){delete this._prefixMatch,this._write(this.quadToString(e,t,i,r),n)}},{key:"quadToString",value:function(e,t,i,r){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(i)+(r&&r.value?" "+this._encodeIriOrBlank(r)+" .\n":" .\n")}},{key:"quadsToString",value:function(e){return e.map((function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)}),this).join("")}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;var t=e.value;d.test(t)&&(t=t.replace(_,y));var i=this._prefixRegex.exec(t);return i?i[1]?this._prefixIRIs[i[1]]+i[2]:t:"<"+t+">"}},{key:"_encodeLiteral",value:function(e){var t=e.value;return d.test(t)&&(t=t.replace(_,y)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==f.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}},{key:"_encodePredicate",value:function(e){return e.value===o.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,i,r,n){void 0===i?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof r?this._writeQuad(e,t,i,l,r):this._writeQuad(e,t,i,r||l,n)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,i){var r={};r[e]=t,this.addPrefixes(r,i)}},{key:"addPrefixes",value:function(e,t){var i=this._prefixIRIs,r=!1;for(var n in e){var a=e[n];"string"!==typeof a&&(a=a.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),i[a]=n+=":",this._write("@prefix "+n+" <"+a+">.\n")}if(r){var s="",u="";for(var c in i)s+=s?"|"+c:c,u+=(u?"|":"")+i[c];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+u+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)}},{key:"blank",value:function(e,t){var i,r,n=e;switch(void 0===e?n=[]:e.termType?n=[{predicate:e,object:t}]:"length"in e||(n=[e]),r=n.length){case 0:return new b("[]");case 1:if(!((i=n[0]).object instanceof b))return new b("[ "+this._encodePredicate(i.predicate)+" "+this._encodeObject(i.object)+" ]");default:for(var a="[",s=0;s<r;s++)(i=n[s]).predicate.equals(e)?a+=", "+this._encodeObject(i.object):(a+=(s?";\n  ":"\n  ")+this._encodePredicate(i.predicate)+" "+this._encodeObject(i.object),e=i.predicate);return new b(a+"\n]")}}},{key:"list",value:function(e){for(var t=e&&e.length||0,i=new Array(t),r=0;r<t;r++)i[r]=this._encodeObject(e[r]);return new b("("+i.join(" ")+")")}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(i,r){t=null,e(i,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(i){}t&&t()}},{key:"_inDefaultGraph",get:function(){return l.equals(this._graph)}}]),e}();function y(e){var t=p[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}},121:function(e,t,i){"use strict";i.r(t),i.d(t,"DataFactory",(function(){return n.a})),i.d(t,"Lexer",(function(){return a.a})),i.d(t,"Parser",(function(){return s.a})),i.d(t,"Writer",(function(){return u.a})),i.d(t,"Store",(function(){return c.a})),i.d(t,"StreamParser",(function(){return b})),i.d(t,"StreamWriter",(function(){return v})),i.d(t,"Util",(function(){return r}));var r={};i.r(r),i.d(r,"isNamedNode",(function(){return y})),i.d(r,"isBlankNode",(function(){return k})),i.d(r,"isLiteral",(function(){return x})),i.d(r,"isVariable",(function(){return g})),i.d(r,"isDefaultGraph",(function(){return j})),i.d(r,"inDefaultGraph",(function(){return m})),i.d(r,"prefix",(function(){return I})),i.d(r,"prefixes",(function(){return w}));var n=i(45),a=i(123),s=i(107),u=i(108),c=i(162),h=i(7),l=i(8),o=i(10),f=i(11),d=i(12),_=i(19),p=i(86),b=function(e){function t(e){var i;Object(h.a)(this,t),(i=Object(o.a)(this,Object(f.a)(t).call(this,{decodeStrings:!0})))._readableState.objectMode=!0;var r,n,a=Object(_.a)(Object(_.a)(i));return new s.a(e).parse({on:function(e,t){switch(e){case"data":r=t;break;case"end":n=t}}},(function(e,t){e&&a.emit("error",e)||t&&a.push(t)}),(function(e,t){a.emit("prefix",e,t)})),i._transform=function(e,t,i){r(e),i()},i._flush=function(e){n(),e()},i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}]),t}(p.Transform),v=function(e){function t(e){var i;Object(h.a)(this,t),(i=Object(o.a)(this,Object(f.a)(t).call(this,{encoding:"utf8"})))._writableState.objectMode=!0;var r=Object(_.a)(Object(_.a)(i)),n=i._writer=new u.a({write:function(e,t,i){r.push(e),i&&i()},end:function(e){r.push(null),e&&e()}},e);return i._transform=function(e,t,i){n.addQuad(e,i)},i._flush=function(e){n.end(e)},i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,i){t._writer.addPrefix(e,i)})),this}}]),t}(p.Transform);function y(e){return!!e&&"NamedNode"===e.termType}function k(e){return!!e&&"BlankNode"===e.termType}function x(e){return!!e&&"Literal"===e.termType}function g(e){return!!e&&"Variable"===e.termType}function j(e){return!!e&&"DefaultGraph"===e.termType}function m(e){return j(e.graph)}function I(e,t){return w({"":e},t)("")}function w(e,t){var i=Object.create(null);for(var r in e)a(r,e[r]);function a(e,r){if("string"===typeof r){var n=Object.create(null);i[e]=function(e){return n[e]||(n[e]=t.namedNode(r+e))}}else if(!(e in i))throw new Error("Unknown prefix: "+e);return i[e]}return t=t||n.a,a}},123:function(e,t,i){"use strict";(function(e,r){i.d(t,"a",(function(){return d}));var n=i(7),a=i(8),s=i(27).a.xsd,u=String.fromCharCode,c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,h={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},l=/[\x00-\x20<>\\"\{\}\|\^\`]/,o={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/,d=function(){function t(e){if(Object(n.a)(this,t),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(var i in this._n3Mode=!1,this)!(i in o)&&this[i]instanceof RegExp&&(this[i]=f);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}return Object(a.a)(t,[{key:"_tokenizeToEnd",value:function(e,t){for(var i=this._input,r=this._comments;;){for(var n,a;n=this._newline.exec(i);)r&&(a=this._comment.exec(n[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),i=i.substr(n[0].length,i.length),this._line++;if(!n&&(n=this._whitespace.exec(i))&&(i=i.substr(n[0].length,i.length)),this._endOfFile.test(i))return t&&(r&&(a=this._comment.exec(i))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(i=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=i;var u=this._line,c="",h="",o="",f=i[0],d=null,_=0,p=!1;switch(f){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(_=1,c="^");break}if(this._previousMarker="^^","<"!==(i=i.substr(2))[0]){p=!0;break}case"<":if(d=this._unescapedIri.exec(i))c="IRI",h=d[1];else if(d=this._iri.exec(i)){if(null===(h=this._unescape(d[1]))||l.test(h))return k(this);c="IRI"}else this._n3Mode&&i.length>1&&"="===i[1]&&(c="inverse",_=2,h=">");break;case"_":((d=this._blank.exec(i))||t&&(d=this._blank.exec(i+" ")))&&(c="blank",o="_",h=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(i))h=d[1];else{var b=this._parseLiteral(i);if(h=b.value,_=b.matchLength,null===h)return k(this)}null===d&&0===_||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(i))h=d[1];else{var v=this._parseLiteral(i);if(h=v.value,_=v.matchLength,null===h)return k(this)}null===d&&0===_||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(i))&&(c="var",h=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(i))?(c="langcode",h=d[1]):(d=this._keyword.exec(i))&&(c=d[0]);break;case".":if(1===i.length?t:i[1]<"0"||i[1]>"9"){c=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(i)||t&&(d=this._number.exec(i+" ")))&&(c="literal",h=d[0],o=d[1]?s.double:/^[+\-]?\d+$/.test(d[0])?s.integer:s.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(i))?c=d[0].toUpperCase():p=!0;break;case"f":case"t":(d=this._boolean.exec(i))?(c="literal",h=d[0],o=s.boolean):p=!0;break;case"a":(d=this._shortPredicates.exec(i))?(c="abbreviation",h="a"):p=!0;break;case"=":this._n3Mode&&i.length>1&&(c="abbreviation",">"!==i[1]?(_=1,h="="):(_=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(_=1,c=f);break;default:p=!0}if(p&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(i))?((d=this._prefixed.exec(i))||t&&(d=this._prefixed.exec(i+" ")))&&(c="prefixed",o=d[1]||"",h=this._unescape(d[2])):(c="prefix",h=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?k(this):this._input=i;var y={line:u,type:c,value:h,prefix:o};e(null,y),this.previousToken=y,this._previousMarker=c,i=i.substr(_||d[0].length,i.length)}function k(t){e(t._syntaxError(/^\S*/.exec(i)[0]))}}},{key:"_unescape",value:function(e){try{return e.replace(c,(function(e,t,i,r){var n;if(t){if(n=parseInt(t,16),isNaN(n))throw new Error;return u(n)}if(i){if(n=parseInt(i,16),isNaN(n))throw new Error;return n<=65535?u(n):u(55296+(n-=65536)/1024,56320+(1023&n))}var a=h[r];if(!a)throw new Error;return a}))}catch(t){return null}}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],i=t.length,r=Math.max(this._literalClosingPos,i);(r=e.indexOf(t,r))>0;){for(var n=0;"\\"===e[r-n-1];)n++;if(n%2===0){var a=e.substring(i,r),s=a.split(/\r\n|\r|\n/).length-1,u=r+i;if(1===i&&0!==s||3===i&&this._lineMode)break;return this._line+=s,{value:this._unescape(a),matchLength:u}}r++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"tokenize",value:function(t,i){var n=this;if(this._line=1,"string"===typeof t){if(this._input=t,"function"!==typeof i){var a,s=[];if(this._tokenizeToEnd((function(e,t){e?a=e:s.push(t)}),!0),a)throw a;return s}e((function(){n._tokenizeToEnd(i,!0)}))}else this._input="",this._pendingBuffer=null,"function"===typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(function(e){null!==n._input&&0!==e.length&&(n._pendingBuffer&&(e=r.concat([n._pendingBuffer,e]),n._pendingBuffer=null),128&e[e.length-1]?n._pendingBuffer=e:(n._input+=e,n._tokenizeToEnd(i,!1)))})),t.on("end",(function(){null!==n._input&&n._tokenizeToEnd(i,!0)})),t.on("error",i)}}]),t}()}).call(this,i(102).setImmediate,i(103).Buffer)},162:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var r=i(26),n=i(7),a=i(8),s=i(45),u=i(86),c=i(27),h=s.a.internal,l=h.toId,o=h.fromId,f=function(){function e(t,i){Object(n.a)(this,e),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,i||!t||t[0]||(i=t,t=null),i=i||{},this._factory=i.factory||s.a,t&&this.addQuads(t)}return Object(a.a)(e,[{key:"_addToIndex",value:function(e,t,i,r){var n=e[t]||(e[t]={}),a=n[i]||(n[i]={}),s=r in a;return s||(a[r]=null),!s}},{key:"_removeFromIndex",value:function(e,t,i,r){var n,a=e[t],s=a[i];for(n in delete s[r],s)return;for(n in delete a[i],a)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,i,r,n,a,s,u,c,h){var l,f,d,_=!t+!i+!r>1?Object.keys(this._ids):this._entities;for(var p in t&&((l=e,e={})[t]=l[t]),e){var b=_[p];if(f=e[p])for(var v in i&&((l=f,f={})[i]=l[i]),f){var y=_[v];if(d=f[v])for(var k=(r?r in d?[r]:[]:Object.keys(d)),x=0;x<k.length;x++){var g={subject:null,predicate:null,object:null};g[n]=o(b,this._factory),g[a]=o(y,this._factory),g[s]=o(_[k[x]],this._factory);var j=this._factory.quad(g.subject,g.predicate,g.object,o(u,this._factory));if(h)h.push(j);else if(c(j))return!0}}}return h}},{key:"_loop",value:function(e,t){for(var i in e)t(i)}},{key:"_loopByKey0",value:function(e,t,i){var r,n;if(r=e[t])for(n in r)i(n)}},{key:"_loopByKey1",value:function(e,t,i){var r;for(r in e)e[r][t]&&i(r)}},{key:"_loopBy2Keys",value:function(e,t,i,r){var n,a,s;if((n=e[t])&&(a=n[i]))for(s in a)r(s)}},{key:"_countInIndex",value:function(e,t,i,r){var n,a,s,u=0;for(var c in t&&((n=e,e={})[t]=n[t]),e)if(a=e[c])for(var h in i&&((n=a,a={})[i]=n[i]),a)(s=a[h])&&(r?r in s&&u++:u+=Object.keys(s).length);return u}},{key:"_getGraphs",value:function(e){if(!d(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=Object.create(null),i=this._entities;return function(r){r in t||(t[r]=!0,e(o(i[r])))}}},{key:"addQuad",value:function(e,t,i,r){t||(r=e.graph,i=e.object,t=e.predicate,e=e.subject),e=l(e),t=l(t),i=l(i),r=l(r);var n=this._graphs[r];n||(n=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(n));var a=this._ids,s=this._entities;e=a[e]||(a[s[++this._id]=e]=this._id),t=a[t]||(a[s[++this._id]=t]=this._id),i=a[i]||(a[s[++this._id]=i]=this._id);var u=this._addToIndex(n.subjects,e,t,i);return this._addToIndex(n.predicates,t,i,e),this._addToIndex(n.objects,i,e,t),this._size=null,u}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}},{key:"removeQuad",value:function(e,t,i,r){t||(r=e.graph,i=e.object,t=e.predicate,e=e.subject),e=l(e),t=l(t),i=l(i),r=l(r);var n,a,s,u=this._ids,c=this._graphs;if(!(e=u[e])||!(t=u[t])||!(i=u[i])||!(n=c[r])||!(a=n.subjects[e])||!(s=a[t])||!(i in s))return!1;for(e in this._removeFromIndex(n.subjects,e,t,i),this._removeFromIndex(n.predicates,t,i,e),this._removeFromIndex(n.objects,i,e,t),null!==this._size&&this._size--,n.subjects)return!0;return delete c[r],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}},{key:"removeMatches",value:function(e,t,i,r){return this.remove(this.match(e,t,i,r))}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,i,r){e=e&&l(e),t=t&&l(t),i=i&&l(i),r=r&&l(r);var n,a,s,u,c=[],h=this._getGraphs(r),o=this._ids;if(d(e)&&!(a=o[e])||d(t)&&!(s=o[t])||d(i)&&!(u=o[i]))return c;for(var f in h)(n=h[f])&&(a?u?this._findInIndex(n.objects,u,a,s,"object","subject","predicate",f,null,c):this._findInIndex(n.subjects,a,s,null,"subject","predicate","object",f,null,c):s?this._findInIndex(n.predicates,s,u,null,"predicate","object","subject",f,null,c):u?this._findInIndex(n.objects,u,null,null,"object","subject","predicate",f,null,c):this._findInIndex(n.subjects,null,null,null,"subject","predicate","object",f,null,c));return c}},{key:"match",value:function(e,t,i,r){var n=this,a=new u.Readable({objectMode:!0});return a._read=function(){var s=!0,u=!1,c=void 0;try{for(var h,l=n.getQuads(e,t,i,r)[Symbol.iterator]();!(s=(h=l.next()).done);s=!0){var o=h.value;a.push(o)}}catch(f){u=!0,c=f}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}a.push(null)},a}},{key:"countQuads",value:function(e,t,i,r){e=e&&l(e),t=t&&l(t),i=i&&l(i),r=r&&l(r);var n,a,s,u,c=0,h=this._getGraphs(r),o=this._ids;if(d(e)&&!(a=o[e])||d(t)&&!(s=o[t])||d(i)&&!(u=o[i]))return 0;for(var f in h)(n=h[f])&&(c+=e?i?this._countInIndex(n.objects,u,a,s):this._countInIndex(n.subjects,a,s,u):t?this._countInIndex(n.predicates,s,u,a):this._countInIndex(n.objects,u,a,s));return c}},{key:"forEach",value:function(e,t,i,r,n){this.some((function(t){return e(t),!1}),t,i,r,n)}},{key:"every",value:function(e,t,i,r,n){var a=!1,s=!this.some((function(t){return a=!0,!e(t)}),t,i,r,n);return a&&s}},{key:"some",value:function(e,t,i,r,n){t=t&&l(t),i=i&&l(i),r=r&&l(r),n=n&&l(n);var a,s,u,c,h=this._getGraphs(n),o=this._ids;if(d(t)&&!(s=o[t])||d(i)&&!(u=o[i])||d(r)&&!(c=o[r]))return!1;for(var f in h)if(a=h[f])if(s){if(c){if(this._findInIndex(a.objects,c,s,u,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(a.subjects,s,u,null,"subject","predicate","object",f,e,null))return!0}else if(u){if(this._findInIndex(a.predicates,u,c,null,"predicate","object","subject",f,e,null))return!0}else if(c){if(this._findInIndex(a.objects,c,null,null,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",f,e,null))return!0;return!1}},{key:"getSubjects",value:function(e,t,i){var r=[];return this.forSubjects((function(e){r.push(e)}),e,t,i),r}},{key:"forSubjects",value:function(e,t,i,r){t=t&&l(t),i=i&&l(i),r=r&&l(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(d(t)&&!(a=u[t])||d(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.predicates,a,s,e):this._loopByKey1(n.subjects,a,e):s?this._loopByKey0(n.objects,s,e):this._loop(n.subjects,e))}},{key:"getPredicates",value:function(e,t,i){var r=[];return this.forPredicates((function(e){r.push(e)}),e,t,i),r}},{key:"forPredicates",value:function(e,t,i,r){t=t&&l(t),i=i&&l(i),r=r&&l(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(d(t)&&!(a=u[t])||d(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.objects,s,a,e):this._loopByKey0(n.subjects,a,e):s?this._loopByKey1(n.predicates,s,e):this._loop(n.predicates,e))}},{key:"getObjects",value:function(e,t,i){var r=[];return this.forObjects((function(e){r.push(e)}),e,t,i),r}},{key:"forObjects",value:function(e,t,i,r){t=t&&l(t),i=i&&l(i),r=r&&l(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(d(t)&&!(a=u[t])||d(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.subjects,a,s,e):this._loopByKey1(n.objects,a,e):s?this._loopByKey0(n.predicates,s,e):this._loop(n.objects,e))}},{key:"getGraphs",value:function(e,t,i){var r=[];return this.forGraphs((function(e){r.push(e)}),e,t,i),r}},{key:"forGraphs",value:function(e,t,i,r){for(var n in this._graphs)this.some((function(t){return e(t.graph),!0}),t,i,r,n)}},{key:"createBlankNode",value:function(e){var t,i;if(e)for(t=e="_:"+e,i=1;this._ids[t];)t=e+i++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.remove,n=void 0!==i&&i,a=t.ignoreErrors,s=void 0!==a&&a,u={},h=s?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},l=this.getQuads(null,c.a.rdf.rest,c.a.rdf.nil,null),o=n?Object(r.a)(l):[];return l.forEach((function(t){for(var i,r,a=[],s=!1,l=t.graph,f=t.subject;f&&!s;){var d,_,p=e.getQuads(null,null,f,null),b=e.getQuads(f,null,null,null),v=null,y=null,k=null;for(d=0;d<b.length&&!s;d++)(_=b[d]).graph.equals(l)?i?s=h(f,"has non-list arcs out"):_.predicate.value===c.a.rdf.first?v?s=h(f,"has multiple rdf:first arcs"):o.push(v=_):_.predicate.value===c.a.rdf.rest?y?s=h(f,"has multiple rdf:rest arcs"):o.push(y=_):p.length?s=h(f,"can't be subject and object"):(i=_,r="subject"):s=h(f,"not confined to single graph");for(d=0;d<p.length&&!s;++d)_=p[d],i?s=h(f,"can't have coreferences"):_.predicate.value===c.a.rdf.rest?k?s=h(f,"has incoming rdf:rest arcs"):k=_:(i=_,r="object");v?a.unshift(v.object):s=h(f,"has no list head"),f=k&&k.subject}s?n=!1:i&&(u[i[r].value]=a)})),n&&this.removeQuads(o),u}},{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,i,r=this._graphs;for(var n in r)for(var a in t=r[n].subjects)for(var s in i=t[a])e+=Object.keys(i[s]).length;return this._size=e}}]),e}();function d(e){return"string"===typeof e||e instanceof String}},27:function(e,t,i){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";t.a={xsd:{decimal:n+"decimal",boolean:n+"boolean",double:n+"double",integer:n+"integer",string:n+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:a+"reify#forSome",forAll:a+"reify#forAll"},log:{implies:a+"log#implies"}}},45:function(e,t,i){"use strict";var r,n,a=i(19),s=i(10),u=i(11),c=i(12),h=i(7),l=i(8),o=i(27),f=o.a.rdf,d=o.a.xsd,_=0,p=function(){function e(t){Object(h.a)(this,e),this.id=t}return Object(l.a)(e,[{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}},{key:"value",get:function(){return this.id}}]),e}(),b=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"termType",get:function(){return"NamedNode"}}]),t}(p),v=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"equals",value:function(e){return e instanceof t?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new b(this.datatypeString)}},{key:"datatypeString",get:function(){var e,t=this.id,i=t.lastIndexOf('"')+1;return i<t.length&&"^"===(e=t[i])?t.substr(i+2):"@"!==e?d.string:f.langString}}]),t}(p),y=function(e){function t(e){return Object(h.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"_:"+e))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),t}(p),k=function(e){function t(e){return Object(h.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"?"+e))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),t}(p),x=function(e){function t(){var e;return Object(h.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this,"")),Object(s.a)(e,n||Object(a.a)(Object(a.a)(e)))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}},{key:"termType",get:function(){return"DefaultGraph"}}]),t}(p);n=new x;var g=function(){function e(t,i,r,a){Object(h.a)(this,e),this.subject=t,this.predicate=i,this.object=r,this.graph=a||n}return Object(l.a)(e,[{key:"toJSON",value:function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}]),e}();function j(e,t,i,r){return new g(e,t,i,r)}r={namedNode:function(e){return new b(e)},blankNode:function(e){return new y(e||"n3-".concat(_++))},variable:function(e){return new k(e)},literal:function(e,t){if("string"===typeof t)return new v('"'+e+'"@'+t.toLowerCase());var i=t?t.value:"";""===i&&("boolean"===typeof e?i=d.boolean:"number"===typeof e&&(Number.isFinite(e)?i=Number.isInteger(e)?d.integer:d.double:(i=d.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===i||i===d.string?new v('"'+e+'"'):new v('"'+e+'"^^'+i)},defaultGraph:function(){return n},quad:j,triple:j,internal:{Term:p,NamedNode:b,BlankNode:y,Variable:k,Literal:v,DefaultGraph:x,Quad:g,Triple:g,fromId:function(e,t){if(t=t||r,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===r)return new v(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var i=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,i-1),"@"===e[i+1]?e.substr(i+2):t.namedNode(e.substr(i+3)));default:return t.namedNode(e)}},toId:function(e){if("string"===typeof e)return e;if(e instanceof p)return e.id;if(!e)return n.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==d.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}},t.a=r}}]);
//# sourceMappingURL=npm.n3.f1e87d1a.chunk.js.map